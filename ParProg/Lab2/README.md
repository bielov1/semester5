Семафори можна використати для очікування події в якомусь потоці, щоб інший потік міг виконати свою критичну ділянку. Можуть бути такі випадки, коли один потік очікує спільний ресурс, який обраховує інший потік, щоб він зміг виконати свій приклад.


Кожен потік повинен обрахувати приклад 4 в собі. Тобто, кожен потік повинен мати доступ до спільних ресурсів(Потоки обраховують в собі частинки прикладу і діляться їми з іншими потоками).

Мій приклад 4:

A = sort(D * (ME*MM)) * p + (B * C) * E * x


Задача Т1

- Чекати на обчислення DMMME в задачі T2						W1, 1
- Чекати на введення D, MM, p в задачі Т2
- Обчислення a1 = sort(DMMME)*p
- Обчислення a = sort(a, a1)
- Подати сигнал задачі T2 про завершення обчислень a
- Подати сигнал задачі T3 про завершення обчислень a
- Подати сигнал задачі T4 про завершення обчислень a
- Чекати на завершення обчислень a в Т2
- Чекати на завершення обчислень a в Т3
- Чекати на завершення обчислень a в Т4
- Чекати на завершення обичслень b в Т4
- Обчислення b1 = (B * C)
- Обчислення b = b + b1
- Подати сигнал задачі T2 про завершення обчислень b
- Подати сигнал задачі T3 про завершення обчислень b
- Подати сигнал задачі T4 про завершення обчислень b
- Чекати на завершення обчислень b в Т2
- Чекати на завершення обчислень b в Т3
- Чекати на завершення обчислень b в Т4
- Чекати на введення x в задачі T4
- Копіювати a1 = a
- Копіювати b1 = b
- Копіювати x1 = x
- Чекати на введення B, E в задачі Т3
- Обчислення A = a1 + b1 * E * x1
- Подати сигнал Т4 про завершення обчислень А

 

Задача Т2

- Уведення D, MM, p
- Подати сигнал задачі T1 про введеня D, MM, p					S1, 1
- Подати сигнал задачі T3 про введеня D, MM, p					S3, 1
- Подати сигнал задачі T4 про введеня D, MM, p					S4, 1
- Чекати на введення ME, B, E в задачі T3
- Обчислення DMMME = D*(MM * ME)
- Подати сигнал задачі T1 про введення DMMME
- Подати сигнал задачі T3 про введення DMMME
- Подати сигнал задачі T4 про введення DMMME
- Обчислення a2 = sort(DMMME)*p
- Обчислення a = sort(a, a2)
- Подати сигнал задачі T1 про завершення обчислень a
- Подати сигнал задачі T3 про завершення обчислень a
- Подати сигнал задачі T4 про завершення обчислень a
- Чекати на завершення обчислень a в Т1
- Чекати на завершення обчислень a в Т3
- Чекати на завершення обчислень a в Т4
- Чекати на завершення обичслень b в Т4
- Обчислення b2 = (B * C)
- Обчислення b = b + b2
- Подати сигнал задачі T1 про завершення обчислень b
- Подати сигнал задачі T3 про завершення обчислень b
- Подати сигнал задачі T4 про завершення обчислень b
- Чекати на завершення обчислень b в Т1
- Чекати на завершення обчислень b в Т3
- Чекати на завершення обчислень b в Т4
- Чекати на введення x в задачі T4
- Копіювати a2 = a
- Копіювати b2 = b
- Копіювати x2 = x
- Чекати на введення B, E в задачі Т3
- Обчислення A = a2 + b2 * E * x2
- Подати сигнал Т4 про завершення обчислень А

 
 


Задача Т3

- Уведення ME, B, E
- Подати сигнал задачі T1 про введеня ME, B, E 					S1, 1
- Подати сигнал задачі T2 про введеня ME, B, E					S2, 1
- Подати сигнал задачі T4 про введеня ME, B, E					S4, 1
- Чекати на обчислення DMMME в задачі T2
- Чекати на введення D, MM, p в задачі T2
- Обчислення a3 = sort(DMMME)*p
- Обчислення a = sort(a, a3)
- Подати сигнал задачі T1 про завершення обчислень a
- Подати сигнал задачі T2 про завершення обчислень a
- Подати сигнал задачі T4 про завершення обчислень a
- Чекати на завершення обчислень a в Т1
- Чекати на завершення обчислень a в Т2
- Чекати на завершення обчислень a в Т4
- Чекати на завершення обичслень b в Т4
- Обчислення b3 = (B * C)
- Обчислення b = b + b3
- Подати сигнал задачі T1 про завершення обчислень b
- Подати сигнал задачі T2 про завершення обчислень b
- Подати сигнал задачі T4 про завершення обчислень b
- Чекати на завершення обчислень b в Т1
- Чекати на завершення обчислень b в Т2
- Чекати на завершення обчислень b в Т4
- Чекати на введення x в задачі T4
- Копіювати a3 = a
- Копіювати b3 = b
- Копіювати x3 = x
- Обчислення A = a3 + b3 * E * x3
- Подати сигнал Т4 про завершення обчислень А


 



Задача Т4

- Уведення C, A, x
- Подати сигнал задачі T1 про введеня C, A, x					S1, 1
- Подати сигнал задачі T2 про введеня C, A, x					S2, 1
- Подати сигнал задачі T3 про введеня C, A, x					S3, 1
- Чекати на обчислення DMMME в задачі T2
- Чекати на введення D, MM, p в задачі Т2
- Обчислення a4 = sort(DMMME)*p
- Обчислення a = sort(a, a4)
- Подати сигнал задачі T1 про завершення обчислень a
- Подати сигнал задачі T2 про завершення обчислень a
- Подати сигнал задачі T3 про завершення обчислень a
- Чекати на завершення обчислень a в Т1
- Чекати на завершення обчислень a в Т2
- Чекати на завершення обчислень a в Т3 
- Чекати на введення B, E в задачі Т3
- Обчислення b4 = (B * C)
- Обчислення b = b + b4
- Подати сигнал задачі T1 про завершення обчислень b
- Подати сигнал задачі T2 про завершення обчислень b
- Подати сигнал задачі T3 про завершення обчислень b
- Чекати на завершення обчислень b в Т1
- Чекати на завершення обчислень b в Т2
- Чекати на завершення обчислень b в Т3 
- Копіювати a4 = a
- Копіювати b4 = b
- Копіювати x4 = x
- Чекати на введення B, E в задачі Т3
- Обчислення A = a4 + b4 * E * x4
- Чекати на завершення обчислень А в Т1
- Чекати на завершення обчислень А в Т2
- Чекати на завершення обчислень А в Т3
- Виведення результату А





